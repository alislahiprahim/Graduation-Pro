<form [formGroup]="dynamicForm" (ngSubmit)="onSubmit()">
    <div class="card m-3">
        <h5 class="card-header">Angular 8 Dynamic Reactive Forms Example</h5>
        <div class="card-body">
            <div class="form-row">
                <div class="form-group">
                    <label>Number of Questions</label>
                    <select formControlName="numberOfQuestions" class="form-control"
                        (change)="onChangeQuestions($event)"
                        [ngClass]="{ 'is-invalid': submitted && f.numberOfQuestions.errors }">
                        <option value=""></option>
                        <option *ngFor="let i of [1,2,3,4,5,6,7,8,9,10]">{{i}}</option>
                    </select>
                    <div *ngIf="submitted && f.numberOfQuestions.errors" class="invalid-feedback">
                        <div *ngIf="f.numberOfQuestions.errors.required">Number of tickets is required</div>
                    </div>
                </div>
            </div>
        </div>
        <div *ngFor="let question of q.controls; let i = index" class="list-group list-group-flush">
            <div class="list-group-item">
                <h5 class="card-title">Question {{i + 1}}</h5>
                <div [formGroup]="question" class="form-row">
                    <div class="form-group col-6">
                        <label>question</label>
                        <input type="text" formControlName="question" class="form-control"
                            [ngClass]="{ 'is-invalid': submitted && question.controls.question.errors }" />
                        <div *ngIf="submitted && question.controls.question.errors" class="invalid-feedback">
                            <div *ngIf="question.controls.question.errors.required">question is required</div>
                        </div>
                    </div>
                    <div class="form-group col-6">
                        <label>Type</label>
                        <select formControlName="type" class="form-control"
                            [ngClass]="{ 'is-invalid': submitted && question.controls.question.errors }">
                            <option value="text">text</option>
                            <option value="checkbox">checkbox</option>
                        </select>
                        <div *ngIf="submitted && question.controls.question.errors" class="invalid-feedback">
                            <div *ngIf="question.controls.type.errors.required">question is required</div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="card-footer text-center">
            <button class="btn btn-primary mr-1">Submit Questions</button>
            <button class="btn btn-secondary mr-1" type="reset" (click)="onReset()">Reset</button>
            <button class="btn btn-secondary" type="button" (click)="onClear()">Clear</button>
        </div>
    </div>
</form>



<!-- 
<div class="row">
    <div class="col-12">

        <mat-form-field class="example-chip-list">
            <mat-chip-list #chipList aria-label="Fruit selection">
                <mat-chip *ngFor="let q of questions" [selectable]="selectable" [removable]="removable"
                    (removed)="remove(q)">
                    {{q}}
                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
                <input placeholder="Fill Diagnosis Form" [matChipInputFor]="chipList"
                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="addOnBlur"
                    (matChipInputTokenEnd)="add($event)">
            </mat-chip-list>
        </mat-form-field>

    </div>
</div> -->